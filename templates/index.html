{% extends "base.html" %}
{% load static %}


{% block title %}LeatherCraft - Кожаные изделия ручной работы{% endblock %}

{% block content %}
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h2>Эксклюзивные кожаные изделия</h2>
            <p>Каждое изделие создается вручную с особым вниманием к деталям</p>
            <a href="{% url 'store:catalog' %}" class="cta-btn">
                Смотреть каталог
            </a>
        </div>
        <div class="hero-image">
            <img src="{% static 'images/hero-image.jpg' %}" alt="Кожаные изделия ручной работы">
        </div>
    </section>

    <!-- Categories -->
    <section class="categories">
        <div class="container">
            <h2>Категории товаров</h2>
            <div class="categories-grid">
                {% for category in categories %}
                    <div class="category-card" onclick="location.href='{% url 'store:catalog' %}?category={{ category.slug }}'">
                        <img src="{% if category.image %}{{ category.image.url }}{% else %}{% static 'images/category-placeholder.jpg' %}{% endif %}" alt="{{ category.name }}">
                        <h3>{{ category.name }}</h3>
                        <p>{{ category.description }}</p>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="featured-products">
        <div class="container">
            <h2>Популярные товары</h2>
            <div class="products-grid">
                {% load store_tags %}
                {% for product in featured_products %}
                    <div class="product-card" onclick="location.href='{% url 'store:product_detail' product.id %}'">
                        <div class="product-image">
                            <img src="{% get_main_image product %}" alt="{{ product.name }}">
                            {% if product.is_featured %}
                                <div class="product-badge">Хит продаж</div>
                            {% endif %}
                            {% if product.is_new %}
                                <div class="product-badge new">Новинка</div>
                            {% endif %}
                        </div>
                        <div class="product-info">
                            <h3>{{ product.name }}</h3>
                            <p>{{ product.description|truncatechars:100 }}...</p>
                            <div class="product-price">
                                <span class="price">{{ product.price|currency }}</span>
                                <button class="add-to-cart" onclick="event.stopPropagation(); addToCart({{ product.id }})">
                                    <i class="fas fa-shopping-cart"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <div class="text-center">
                <a href="{% url 'store:catalog' %}" class="load-more-btn">Смотреть все товары</a>
            </div>
        </div>
    </section>

    <!-- About Preview -->
    <section class="about-preview">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>О нашем мастерстве</h2>
                    <p>Мы создаем уникальные кожаные изделия, используя традиционные техники и современные технологии. Каждое изделие проходит тщательный отбор материалов и многоэтапный процесс изготовления.</p>
                    <div class="features">
                        <div class="feature">
                            <i class="fas fa-hand-paper"></i>
                            <h3>Ручная работа</h3>
                            <p>Каждое изделие создается вручную опытными мастерами</p>
                        </div>
                        <div class="feature">
                            <i class="fas fa-leaf"></i>
                            <h3>Натуральная кожа</h3>
                            <p>Используем только высококачественную натуральную кожу</p>
                        </div>
                        <div class="feature">
                            <i class="fas fa-shield-alt"></i>
                            <h3>Гарантия качества</h3>
                            <p>Предоставляем гарантию на все наши изделия</p>
                        </div>
                    </div>
                    <a href="{% url 'store:about' %}" class="cta-btn">Узнать больше</a>
                </div>
                <div class="about-image">
                    <img src="{% static 'images/about-image.jpg' %}" alt="Процесс изготовления">
                </div>
            </div>
        </div>
    </section>
{% endblock %}
